parameters:
  publishToFeed: false
  feedForPublishing: public/dotnet10-workloads

steps:
- task: 1ES.PublishNuget@1
  condition: ${{ eq(parameters.publishToFeed, true) }}
  displayName: ðŸŸ£ Publish NuGet package
  inputs:
    useDotNetTask: true
    packagesToPush: $(Build.SourcesDirectory)/artifacts/packages/**/*.nupkg
    packageParentPath: $(Build.SourcesDirectory)/artifacts/packages
    publishVstsFeed: ${{ parameters.feedForPublishing }}
    nuGetFeedType: internal
    allowPackageConflicts: false
    publishPackageMetadata: true