parameters:
  publishToFeed: false
  feedForPublishing: ''

steps:
- task: 1ES.PublishNuget@1
  condition: ${{ eq(parameters.publishToFeed, true) }}
  displayName: ðŸŸ£ Publish NuGet package
  inputs:
    useDotNetTask: true
    packagesToPush: $(Pipeline.Workspace)/PackageArtifacts/*.nupkg
    packageParentPath: $(Pipeline.Workspace)/PackageArtifacts
    publishVstsFeed: ${{ parameters.feedForPublishing }}
    nuGetFeedType: internal
    allowPackageConflicts: false
    publishPackageMetadata: true